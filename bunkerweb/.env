# ==========================================================
# BunkerWeb Configuration
# ==========================================================

# --- General Settings ---
TZ=Asia/Taipei
SERVER_NAME=localhost
AUTO_SERVER_NAME=yes
BUNKERWEB_INSTANCES=bunkerweb
DISABLE_DEFAULT_SERVER=no
MAX_CLIENT_SIZE=10G
SERVE_FILES=no
ALLOWED_METHODS=GET|POST|HEAD|COPY|DELETE|LOCK|MKCOL|MOVE|PROPFIND|PROPPATCH|PUT|UNLOCK|OPTIONS

# --- Network & Proxy Settings ---
WHITELIST_IP=127.0.0.1 10.20.30.0/24 10.20.40.0/24
API_WHITELIST_IP=127.0.0.1 10.20.30.0/24 10.20.40.0/24
USE_REAL_IP=no
REAL_IP_FROM=192.168.50.1
REAL_IP_HEADER=X-Forwarded-For
USE_REVERSE_PROXY=yes
REVERSE_PROXY_URL=/
REVERSE_PROXY_HOST=http://nginx

# --- HTTP & Performance ---
X_FRAME_OPTIONS=SAMEORIGIN
USE_GZIP=yes
USE_CLIENT_CACHE=yes
# BAD_BEHAVIOR_STATUS_CODES=400 401 403 405 444

# --- Rate Limiting (Global) ---
USE_LIMIT_REQ=no
LIMIT_REQ_STATUS_CODE=429
LIMIT_REQ_RATE=20r/s
LIMIT_REQ_BURST=40

# --- Security: ModSecurity & OWASP ---
USE_MODSECURITY=no
MODSECURITY_CRS_VERSION=3
USE_OWASP_CRS=no

# --- Security: Bot Protection ---
# Challenge mode for suspicious traffic
USE_ANTIBOT=no
ANTIBOT_TYPE=javascript
USE_BAD_BOT=yes

# --- Security: IP Reputation & Blacklisting ---
USE_BLACKLIST=no
# External IP blacklists including Tor exit nodes and Firehol lists
BLACKLIST_IP_URLS=https://check.torproject.org/torbulkexitlist https://raw.githubusercontent.com/firehol/blocklist-ipsets/master/firehol_level2.netset https://lists.blocklist.de/lists/all.txt http://cinsscore.com/list/ci-badguys.txt
USE_BUNKERNET=no
USE_DNSBL=no
